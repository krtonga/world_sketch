<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <title>World-Sketch</title>

  <link rel="stylesheet" href="css/styles.css">
  <script src="js/libraries/jquery-min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="js/libraries/underscore-min.js"></script>
  <script src="js/libraries/backbone-min.js"></script>
  <script src="http://d3js.org/topojson.v1.min.js"></script>


  <!-- TEMPLATES :sketch, :sketchEdit -->
  <script type="template" class="sketch-template">
    <div class="saved-sketch">
    <h1>ONE</h1>
      <div class="the-sketch">
        <%= data  %>
      </div>
      <p><strong>Artist:</strong> <%- artist %></p>
      <p><strong>Location:</strong> <%- location %></p>
      <p><strong>Created At:</strong> <%- created_at %> / Updated At: <%- updated_at %></p>
      <p><strong>Story:</strong> <%- story %></p>
      <p><strong>Tags:</strong><%- group %></p>
    </div>
  </script>


  <!-- APP + BACKBONE.models/collections/views -->
  <script src="js/drawD3.js"></script>
  <script src="js/map_topoJSON.js"></script>
  <script src="js/backbone/app.js"></script>
  <script src="js/backbone/models/sketch.js"></script>
  <script src="js/backbone/collections/sketchCollection.js"></script>
  <script src="js/backbone/views/sketches/sketchView.js"></script>
  <script src="js/backbone/views/sketches/sketchListView.js"></script>

</head>
<!-- **************BODY******************** -->
<body onload="blankCanvas()">

  <h1>Sketcher</h1>
  <p>
    Draw something freehand.<br>
    Or, use a turtorial. <br>
    Then save it. <br>
    With it's story, and location. <br>
    Find your past sketches, or find the sketches of a friend. <br>
    Sketch when you travel, and send back home something unique, instantaneously. <br>
  </p>

  <div class="studio">
    <div class="palette"></div>
    <div class="etch-a-sketch"></div>
  </div>
  <div class="more-info">

    <form class="sketch-details">
      <fieldset>
        <legend>Tell a future self about this sketch:</legend>
        <p>Who are you? <input type="text" class="name"> / </p>
        <p>Where are you? <input type="text" class="location"> /</p>
        <p></p>
          Tags:
          <input type="text" autocomplete:"on" spellcheck="true" class="tags"> /<br>
        </p>
        <label for="story">Story:</label><br>
        <textarea class="story"></textarea>
        <button type="submit" class="save">SAVE</button>
      </fieldset>
    </form>
  </div>

  <div class="where-it-should-go">
    <canvas id="map"></canvas>
  </div>

  <script>
    var svg = d3.select('body').append('svg')
                .attr('width', width)
                .attr('height', height);
    var projection = d3.geo.
  </script>


  <h1>Saved Sketches</h1>
  <div class="saved-sketches"></div>


<!-- ********************* SPINNING GLOBES -->

<h2>Playing around with static and interactive globes.</h2>

<script>
  var width = 200,
    height = 200;

  // creates projection, determines type(orth=sphere), translate (pixel coord of center), scale(distance btween proj points, defaults to 150), clipAngle(hides behind), precision(how much can be lost)
  var projection = d3.geo.orthographic()
                     .scale(100)
                     .translate([ width/2, height/2 ])
                     .clipAngle(90)
                     .precision(.1);

  var path = d3.geo.path()
               .projection(projection);



  var graticule = d3.geo.graticule();

  var rotate1 = d3.scale.linear()
                  .domain([0, width])
                  .range([-180, 180]);

  var rotate2 = d3.scale.linear()
                  .domain([0, height])
                  .range([90, -90]);

  // should put world topo.json map on globe
  d3.json('json/countries.topo.json', function(error, world) {
    svg.append('path')
       .datum(topojson.feature(world, world.objects.countries))
       .attr('class', 'countries')
       .attr('d', path);
  });

  // without lines don't appear
  var svg = d3.select("body").append("svg")
              .attr("width", width)
              .attr("height", height);

  // // without this fill and stroke won't appear
  // svg.append("defs").append("path")
  //    .datum({type: "Sphere"})
  //    .attr("id", "sphere")
  //    .attr("d", path);

  // // stroke around
  // svg.append("use")
  //    .attr("class", "stroke")
  //    .attr("xlink:href", "#sphere");

  // // background fill
  // svg.append("use")
  //    .attr("class", "fill")
  //    .attr("xlink:href", "#sphere");

  // lat and long lines. order is for layering.
  svg.append("path")
     .datum(graticule)
     .attr("class", "graticule")
     .attr("d", path);

  // d3.json("/d/4090846/world-110m.json", function(error, world) {
  //   svg.append("path")
  //      .datum(topojson.feature(world, world.objects.land))
  //      .attr("class", "land")
  //      .attr("d", path);
  // });
</script>

<script>
  var width = 200,
    height = 200;

  // creates projection, determines type(orth=sphere), translate (pixel coord of center), scale(distance btween proj points, defaults to 150), clipAngle(hides behind), precision(how much can be lost)
  var projection = d3.geo.orthographic()
                     .scale(100)
                     .translate([ width/2, height/2 ])
                     .clipAngle(90)
                     .precision(.1);

  var path = d3.geo.path()
               .projection(projection);

  var graticule = d3.geo.graticule();

  var rotate1 = d3.scale.linear()
                  .domain([0, width])
                  .range([-180, 180]);

  var rotate2 = d3.scale.linear()
                  .domain([0, height])
                  .range([90, -90]);


  // without lines don't appear
  var svg = d3.select("body").append("svg")
              .attr("width", width)
              .attr("height", height);

  // // without this fill and stroke won't appear
  // svg.append("defs").append("path")
  //    .datum({type: "Sphere"})
  //    .attr("id", "sphere")
  //    .attr("d", path);

  // // stroke around
  // svg.append("use")
  //    .attr("class", "stroke")
  //    .attr("xlink:href", "#sphere");

  // // background fill
  // svg.append("use")
  //    .attr("class", "fill")
  //    .attr("xlink:href", "#sphere");

  // lat and long lines. order is for layering.
  svg.append("path")
     .datum(graticule)
     .attr("class", "graticule")
     .attr("d", path);

  svg.on("mousemove", function() {
    var p = d3.mouse(this);
    projection.rotate([rotate1(p[0]), rotate2(p[1])]);
    svg.selectAll("path").attr("d", path);
  })


  // d3.json("/mbostock/raw/4090846/world-50m.json", function(error, world) {
  //   svg.insert("path", ".graticule")
  //      .datum(topojson.mesh(world, world.objects.countries, function(a, b) {  return a !== b; }))
  //      .attr("class", "boundary")
  //      .attr("d", path);
  // });

  // d3.select(self.frameElement).style("height", height + "px");
</script>


  <div class="globe-container"></div>








</body>
</html>
